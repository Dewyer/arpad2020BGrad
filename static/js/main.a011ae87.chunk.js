(this.webpackJsonparpad2020bgrad=this.webpackJsonparpad2020bgrad||[]).push([[0],{10:function(e){e.exports=JSON.parse('["kuki","dd2336fb-ada5-4895-86b2-62fc75edb7f3"]')},19:function(e,t,n){e.exports={container:"Construction_container__37-su"}},20:function(e,t,n){e.exports=n(43)},25:function(e,t,n){},27:function(e,t,n){},34:function(e,t){},35:function(e,t){},36:function(e,t){},40:function(e,t,n){e.exports=n.p+"static/media/post.63200e0d.png"},43:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),c=n(17),o=n.n(c),s=(n(25),n(2)),i=n.n(s),u=n(3),l=(n(27),n(7)),f=n(8),p=n(5),h=n(18),d=n.n(h);var v=n(10),b=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,null,[{key:"init",value:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchStudentData",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/people/".concat(t,".json"));case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchAndCacheUserList",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=0;case 2:if(!(n<v.length)){e.next=10;break}return e.next=5,this.fetchStudentData(v[n]);case 5:(a=e.sent)&&t.push({name:(r=a).name,status:r.status,id:r.id,tabloBase64:r.tabloBase64});case 7:n++,e.next=2;break;case 10:this.CachedUserList=t;case 11:case"end":return e.stop()}var r}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadFileToBase64",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise((function(e,n){var a=new FileReader;a.addEventListener("load",(function(t){t.target?e(t.target.result):n("Err no target")})),a.readAsDataURL(t)})),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"makeStudentPageObject",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,r,c,o,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadFileToBase64(t.tabloPhoto);case 2:return n=e.sent,e.next=5,m.matchSingleFaceFromBase64(n);case 5:if(a=e.sent,console.log(n),a){e.next=9;break}return e.abrupt("return",void 0);case 9:r=[],c=0;case 11:if(!(c<t.teacherPhotos.length)){e.next=23;break}return o=t.teacherPhotos[c],e.next=15,this.loadFileToBase64(o);case 15:return s=e.sent,e.next=18,m.matchSingleFaceFromBase64(s);case 18:(u=e.sent)&&r.push(u);case 20:c++,e.next=11;break;case 23:return e.abrupt("return",{name:t.name,description:t.description,ownPhotosBase64:[],tabloDescriptor:a,tabloBase64:n,teachingDescriptor:r,id:d.a.v4(),status:t.status});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();b.CachedUserList=void 0;var m=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,null,[{key:"init",value:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loaded){e.next=12;break}return e.next=3,p.d.faceRecognitionNet.load("/aimodels");case 3:return e.next=5,p.d.ssdMobilenetv1.load("/aimodels");case 5:return e.next=7,p.d.faceLandmark68Net.load("/aimodels");case 7:return console.log("AI util loaded models"),e.next=10,this.loadALlFaceData();case 10:console.log("Loading people face data"),console.log(this.facePool.length," entries loaded");case 12:this.loaded=!0;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"floatArrayFromObj",value:function(e){var t=[];for(var n in e)t.push(e[n]);return new Float32Array(t)}},{key:"loadALlFaceData",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,r,c,o,s=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n(10),a=0;case 2:if(!(a<t.length)){e.next=15;break}return e.next=5,b.fetchStudentData(t[a]);case 5:if(r=e.sent){e.next=8;break}return e.abrupt("continue",12);case 8:(c={personId:r.id,possibilities:Array.from(r.teachingDescriptor)}).possibilities.push(r.tabloDescriptor),this.facePool.push(c),console.log(r.name);case 12:a++,e.next=2;break;case 15:console.log(this.facePool),o=this.facePool.map((function(e){var t=e.possibilities.map((function(e){return s.floatArrayFromObj(e.descriptor)}));return new p.b(e.personId,t)})),this.faceMatcher=new p.a(o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"witchFaceFromBase64",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.matchSingleFaceFromBase64(t);case 2:if(!(n=e.sent)){e.next=8;break}return console.log("found face on img"),a=this.faceMatcher.matchDescriptor(n.descriptor),console.log(a),e.abrupt("return",a.label);case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"matchSingleFaceFromBase64",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Image).src=t,e.next=4,p.c(n).withFaceLandmarks().withFaceDescriptor();case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();m.loaded=void 0,m.facePool=[],m.faceMatcher=void 0;var w=n(19),k=n.n(w),x=function(e){return r.a.createElement("div",{className:k.a.container},r.a.createElement("img",{src:n(40)}),r.a.createElement("h2",null,"Ez az oldal fejleszt\xe9s alatt van !"),r.a.createElement("a",{href:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},"Addig is"))},g=function(){return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.init();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(x,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(41),n(42);o.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.a011ae87.chunk.js.map