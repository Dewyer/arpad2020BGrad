(this.webpackJsonparpad2020bgrad=this.webpackJsonparpad2020bgrad||[]).push([[0],{147:function(e,t,A){"use strict";A.r(t);var n=A(2),a=A.n(n),r=A(48),c=A.n(r),o=(A(67),A(4)),i=A.n(o),s=A(6),l=(A(69),A(21)),u=A(17),m=A(8),B=A(9),d=A(15),g=A(14),h=A(16),f=function(e){function t(e){var A;return Object(m.a)(this,t),(A=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={},A}return Object(h.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return a.a.createElement("h2",null,"Szuper oldalunk!")}}]),t}(a.a.Component),p=A(49),D=A.n(p),v=A(23),b=A.n(v),C=A(50),w=A.n(C),E=function(e){return a.a.createElement(l.b,{className:w.a.navBtn,to:e.data.to},a.a.createElement("img",{src:e.data.img,alt:e.data.title}),a.a.createElement("span",null,e.data.title))},j=A(53),O=A.n(j),y=A(54),k=A.n(y),x=A(55),F=A.n(x),P=function(e){function t(e){var A;return Object(m.a)(this,t),(A=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={drawerOpen:!1},A}return Object(h.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=[{to:"/recognise",title:"Face Recognition",img:O.a},{to:"/",title:"Class list",img:k.a},{to:"#",title:"Lotto",img:F.a}];return a.a.createElement("div",{className:b.a.container},a.a.createElement("div",{className:b.a.headerPart},a.a.createElement("img",{src:A(74),alt:"Clover logo"}),a.a.createElement("span",null,"E-Tabl\xf3")),a.a.createElement("div",{className:b.a.navPart},e.map((function(e){return a.a.createElement(E,{data:e})}))))}}]),t}(a.a.Component),N=function(e){function t(e){var A;return Object(m.a)(this,t),(A=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={},A}return Object(h.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:D.a.container},a.a.createElement(P,null),a.a.createElement("div",null,this.props.children),a.a.createElement("span",null,"Footer"))}}]),t}(a.a.Component),_=A(56),L=A.n(_),S=A(12);function I(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var M=A(18),R=function(){function e(){Object(m.a)(this,e)}return Object(B.a)(e,null,[{key:"init",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loaded){e.next=12;break}return e.next=3,M.d.faceRecognitionNet.load("/aimodels");case 3:return e.next=5,M.d.ssdMobilenetv1.load("/aimodels");case 5:return e.next=7,M.d.faceLandmark68Net.load("/aimodels");case 7:return console.log("AI util loaded models"),e.next=10,this.loadALlFaceData();case 10:console.log("Loading people face data"),console.log(this.facePool.length," entries loaded");case 12:this.loaded=!0;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"floatArrayFromObj",value:function(e){var t=[];for(var A in e)t.push(e[A]);return new Float32Array(t)}},{key:"loadALlFaceData",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,a,r,c,o,s=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=A(85),n=0;case 2:if(!(n<t.length)){e.next=16;break}return e.next=5,fetch("/people/".concat(t[n],".json"));case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,(c={personId:r.id,possibilities:Array.from(r.teachingDescriptor)}).possibilities.push(r.tabloDescriptor),this.facePool.push(c),console.log(r.name);case 13:n++,e.next=2;break;case 16:console.log(this.facePool),o=this.facePool.map((function(e){var t=e.possibilities.map((function(e){return s.floatArrayFromObj(e.descriptor)}));return new M.b(e.personId,t)})),this.faceMatcher=new M.a(o);case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"witchFaceFromBase64",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var A,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.matchSingleFaceFromBase64(t);case 2:if(!(A=e.sent)){e.next=8;break}return console.log("found face on img"),n=this.faceMatcher.matchDescriptor(A.descriptor),console.log(n),e.abrupt("return",n.label);case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"matchSingleFaceFromBase64",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var A,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(A=new Image).src=t,e.next=4,M.c(A).withFaceLandmarks().withFaceDescriptor();case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();R.loaded=void 0,R.facePool=[],R.faceMatcher=void 0;var Q=function(e){var t=Object(n.useRef)(null),A=function(){var e=Object(n.useState)(I()),t=Object(S.a)(e,2),A=t[0],a=t[1];return Object(n.useEffect)((function(){function e(){a(I())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),A}(),r={height:A.height-180,width:(A.height-180)/9*16};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;Object(n.useEffect)((function(){var A=setInterval((function(){e()}),t);return function(){clearInterval(A)}}))}(Object(s.a)(i.a.mark((function e(){var A,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(A=t.current.getScreenshot())){e.next=7;break}return e.next=4,R.witchFaceFromBase64(A);case 4:n=e.sent,console.log("face: "+n);case 7:case"end":return e.stop()}}),e)})))),a.a.createElement("div",null,a.a.createElement("h2",null,"Rakd az arcot a kamera k\xe9p k\xf6zep\xe9re!"),a.a.createElement(L.a,{audio:!1,height:r.height,ref:t,screenshotFormat:"image/png",width:r.width,videoConstraints:{width:1280,height:720,facingMode:"user"},mirrored:!0,id:"facedec"}))},T=A(57),U=A.n(T),z=A(34),H=A.n(z),G=function(e){return a.a.createElement("div",{className:H.a.container,style:e.style},a.a.createElement("span",{className:H.a.title},e.title),a.a.createElement("div",{style:e.containerStyle},e.children))},J=A(35),V=A.n(J),W=function(e){return e.multiline?a.a.createElement("textarea",{style:e.style,value:e.value,onChange:function(t){e.onChangeValue(t.target.value)},rows:e.rows?e.rows:4,className:V.a.inp}):a.a.createElement("input",{style:e.style,type:"text",value:e.value,onChange:function(t){e.onChangeValue(t.target.value)},className:V.a.inp})},X=function(e){return a.a.createElement("input",{type:"file",accept:"image/*",multiple:!e.singular,onChange:function(t){e.handleChange(t.target.files)}})},Y=function(e){return a.a.createElement(G,{title:e.title,style:e.style},a.a.createElement(X,{singular:e.singular,handleChange:function(t){if(t){for(var A=[],n=0;n<t.length;n++){var a=t.item(n);a&&A.push(a)}e.onChangeUploadedFiles(A)}else e.onChangeUploadedFiles([])}}))},Z=A(58),q=A.n(Z),K=A(59),$=A.n(K),ee=A(60),te=A.n(ee),Ae=function(e){return a.a.createElement("button",{disabled:e.disabled,style:e.style,className:te.a.btn,onClick:e.onClick},e.title)},ne=A(29),ae=A.n(ne),re=function(){function e(){Object(m.a)(this,e)}return Object(B.a)(e,null,[{key:"init",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadFileToBase64",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var A,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=new Promise((function(e,A){var n=new FileReader;n.addEventListener("load",(function(t){t.target?e(t.target.result):A("Err no target")})),n.readAsDataURL(t)})),e.next=3,A;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"makeStudentPageObject",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var A,n,a,r,c,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadFileToBase64(t.tabloPhoto);case 2:return A=e.sent,e.next=5,R.matchSingleFaceFromBase64(A);case 5:if(n=e.sent,console.log(A),n){e.next=9;break}return e.abrupt("return",void 0);case 9:a=[],r=0;case 11:if(!(r<t.teacherPhotos.length)){e.next=23;break}return c=t.teacherPhotos[r],e.next=15,this.loadFileToBase64(c);case 15:return o=e.sent,e.next=18,R.matchSingleFaceFromBase64(o);case 18:(s=e.sent)&&a.push(s);case 20:r++,e.next=11;break;case 23:return e.abrupt("return",{name:t.name,description:t.description,ownPhotosBase64:[],tabloDescriptor:n,tabloBase64:A,teachingDescriptor:a,id:ae.a.v4()});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ce=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(B.a)(t,[{key:"downloadFile",value:function(e,t){!function(e,t){var A=window.URL||window.webkitURL||window,n=new Blob([t]);if("msSaveBlob"in navigator)navigator.msSaveBlob(n,e);else{if(!("download"in HTMLAnchorElement.prototype))throw new Error("Neither a[download] nor msSaveBlob is available");var a=document.createElementNS("http://www.w3.org/1999/xhtml","a");a.href=A.createObjectURL(n),a.download=e,function(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}(a)}}(e,t)}},{key:"render",value:function(){var e=this,t=this.props,A=t.children,n=t.file,r=t.content,c=t.style,o=t.className;return a.a.createElement("div",{className:"react-download-container"+(o?" "+o:""),onClick:function(){return e.downloadFile(n,r)},style:c},A)}}]),t}(a.a.Component),oe=A(61),ie=A.n(oe),se=new $.a,le=function(e){var t=Object(n.useState)(""),A=Object(S.a)(t,2),r=A[0],c=A[1],o=Object(n.useState)(""),l=Object(S.a)(o,2),u=l[0],m=l[1],B=Object(n.useState)([]),d=Object(S.a)(B,2),g=d[0],h=d[1],f=Object(n.useState)([]),p=Object(S.a)(f,2),D=p[0],v=p[1],b=Object(n.useState)(null),C=Object(S.a)(b,2),w=C[0],E=C[1],j=Object(n.useState)(!1),O=Object(S.a)(j,2),y=O[0],k=O[1],x=Object(n.useState)(void 0),F=Object(S.a)(x,2),P=F[0],N=F[1],_=""!==r&&""!==u&&w&&0!==D.length;function L(){return(L=Object(s.a)(i.a.mark((function e(){var t,A;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:r,description:u,ownPhotos:g,tabloPhoto:w,teacherPhotos:D},k(!0),e.next=4,re.makeStudentPageObject(t);case 4:A=e.sent,k(!1),A?N({name:ie()(r.toLowerCase())+".json",content:JSON.stringify(A)}):alert("Error, no faces or something");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.createElement("div",{className:U.a.container},a.a.createElement("h2",null,"Rakd \xf6ssze az oldalad!"),a.a.createElement("p",null,"Vagy ne"),a.a.createElement(G,{title:"Neved: ",style:{marginBottom:"1rem"}},a.a.createElement(W,{value:r,onChangeValue:c})),a.a.createElement(G,{title:"Le\xedr\xe1sod: ",containerStyle:{width:"100%"}},a.a.createElement(q.a,{value:u,renderHTML:function(e){return se.render(e)},onChange:function(e){m(e.text)},style:{height:"22rem",marginBottom:"1rem"}})),a.a.createElement(G,{title:"Tabl\xf3 fot\xf3",style:{marginBottom:"1rem"}},a.a.createElement(X,{singular:!0,handleChange:function(e){e&&e.length>=1&&E(e[0])}})),a.a.createElement(Y,{style:{marginBottom:"1rem"},title:"Saj\xe1t K\xe9pek",onChangeUploadedFiles:h}),a.a.createElement(Y,{style:{marginBottom:"1rem"},title:"FACE AI Tan\xedt\xf3 k\xe9pek",onChangeUploadedFiles:v}),P?a.a.createElement(ce,{file:P.name,content:P.content},a.a.createElement(Ae,{style:{marginTop:"2rem"},title:"Let\xf6lt\xe9s"})):a.a.createElement(Ae,{disabled:y||!_,style:{marginTop:"2rem"},title:"L\xe9trehoz\xe1s",onClick:function(){return L.apply(this,arguments)}}))},ue=function(){return Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R.init();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),a.a.createElement(l.a,null,a.a.createElement(N,null,a.a.createElement(u.c,null,a.a.createElement(u.a,{exact:!0,path:"/",component:f}),a.a.createElement(u.a,{exact:!0,path:"/recognise",component:Q}),a.a.createElement(u.a,{exact:!0,path:"/upload",component:le}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));A(146);c.a.render(a.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},23:function(e,t,A){e.exports={container:"NavHeader_container__NpKo2",headerPart:"NavHeader_headerPart__2N7dX",navPart:"NavHeader_navPart__i73Ql"}},34:function(e,t,A){e.exports={container:"FormElementWrapper_container__3N551",title:"FormElementWrapper_title__Yj82_"}},35:function(e,t,A){e.exports={inp:"TextInput_inp__2kZMj"}},49:function(e,t,A){e.exports={container:"NavMenuWrapper_container__3zbgg"}},50:function(e,t,A){e.exports={navBtn:"NavButton_navBtn__19b01"}},53:function(e,t,A){e.exports=A.p+"static/media/camera.2d0d5315.png"},54:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAQAAABecRxxAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkAgcHCRhh9613AAAE6ElEQVR42u3aIa6cZRiG4fc/GQmiCIIkAdGKqgYJGskGWEAFLABB0nQJ9YWiWQRhAyUYDAlHIDBt0wU0P370P/mm576u8V+ed8SdTDIzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRsM/sP8/XqGWd+3p4f++D+03y2+ii4PqeZuT9frp5x5rfDX3w0D1cfBdfnZvUAYB0BgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgDABgLBtZv9qPl8948zL7eWxD+7fzEerjwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeH9tqwdczv5gHq/eABfx6/b7MQ+dVl9yQZ/Od6snwEX8PQcF4Gb1JcA6AgBhAgBhAgBhAgBhAgBhAgBhp5l9u7q/A+3bvnoCFNzMzIt5d2WfJ6u/FmjwEwDCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCBADCTqsHXNDtPFs9AS7ij6MeusMB2P6a71dvgOvmJwCECQCECQCECQCECQCECQCECQCECQCEbTP7x/Ph6hlnXm9vVk8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALhTtpn9wXyyesaZ2+2fYx/cv5gPVh8F12eb2X+Zb1fPOPN0+/HYB/c/5+Hqo+D63KweAKwjABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABB2mplX8+/qGWfeHv7if3Nv9VEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAdf8D8slwdccWa+wAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDItMDdUMDc6MDk6MjQrMDA6MDCy3ZaKAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAyLTA3VDA3OjA5OjI0KzAwOjAww4AuNgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},55:function(e,t,A){e.exports=A.p+"static/media/lotto.8c7ad148.png"},57:function(e,t,A){e.exports={container:"PageMakerPage_container__1ytvK"}},60:function(e,t,A){e.exports={btn:"Button_btn__1Lkv5"}},62:function(e,t,A){e.exports=A(147)},67:function(e,t,A){},69:function(e,t,A){},74:function(e,t,A){e.exports=A.p+"static/media/clover.ba6e8b71.png"},81:function(e,t){},82:function(e,t){},83:function(e,t){},85:function(e){e.exports=JSON.parse('["szabo_bianka"]')}},[[62,1,2]]]);
//# sourceMappingURL=main.5beab965.chunk.js.map